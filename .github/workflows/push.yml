name: æ‰“åŒ…åº”ç”¨å¹¶ä¸Šä¼ è…¾è®¯äº‘

on:
  push:
    branches:
      - main

jobs:
  build:
    # runs-on æŒ‡å®šjobä»»åŠ¡è¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒ(å¿…å¡«å­—æ®µ)
    runs-on: ubuntu-latest
    steps:
      # è·å–æºç 
      - name: è¿å‡ºä»£ç 
      - run: echo "ğŸ This job's status is ${{ secrets.SSH_PRIVATE_KEY }}."
      - run: echo "ğŸ This job's status is ${{ secrets.REMOTE_HOST }}."
        # ä½¿ç”¨actionåº“  actions/checkoutè·å–æºç 
        #   uses: actions/checkout@main

        # # å®‰è£…Node10
        # - name: å®‰è£…node.js
        #   # ä½¿ç”¨actionåº“  actions/setup-nodeå®‰è£…node
        #   uses: actions/setup-node@v1
        #   with:
        #       node-version: 14.0.0

        # # å®‰è£…ä¾èµ–
        # - name: å®‰è£…ä¾èµ–
        #   run: npm install

        # # æ‰“åŒ…
        # - name: æ‰“åŒ…
        #   run: npm run build

        # # ä¸Šä¼ é˜¿é‡Œäº‘
        # - name: å‘å¸ƒdev
        uses: easingthemes/ssh-deploy@v2.1.1
        env:
          # ç§é’¥
          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
          # scpå‚æ•°
          ARGS: "-avzr --delete"
          # æºç›®å½•
          SOURCE: "dist"
          # æœåŠ¡å™¨ipï¼šæ¢æˆä½ çš„æœåŠ¡å™¨IP
          REMOTE_HOST: ${{ secrets.REMOTE_HOST }}
          # ç”¨æˆ·
          REMOTE_USER: "root"
          # ç›®æ ‡åœ°å€
          TARGET: "/www/wwwroot"
